import{_ as a,c as e,o as s,a4 as t,a5 as i}from"./chunks/framework.Cr5OQ4C0.js";const b=JSON.parse('{"title":"设置开机启动","description":"","frontmatter":{},"headers":[],"relativePath":"工具软件/pm2/设置开机启动.md","filePath":"工具软件/pm2/设置开机启动.md"}'),o={name:"工具软件/pm2/设置开机启动.md"},n=t('<h1 id="设置开机启动" tabindex="-1">设置开机启动 <a class="header-anchor" href="#设置开机启动" aria-label="Permalink to &quot;设置开机启动&quot;">​</a></h1><h2 id="安装工具" tabindex="-1">安装工具 <a class="header-anchor" href="#安装工具" aria-label="Permalink to &quot;安装工具&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pnpm add pm2-windows-service -g</span></span></code></pre></div><h2 id="创建服务" tabindex="-1">创建服务 <a class="header-anchor" href="#创建服务" aria-label="Permalink to &quot;创建服务&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pm2-service-install -n serviceName</span></span></code></pre></div><p>创建成功后会在 windows 服务中多一个名称为 serviceName 的服务名称</p><h2 id="设置-pm2-home-环境变量" tabindex="-1">设置 PM2_HOME 环境变量 <a class="header-anchor" href="#设置-pm2-home-环境变量" aria-label="Permalink to &quot;设置 PM2_HOME 环境变量&quot;">​</a></h2><p>在 GUI 中添加环境变量指定路径 <img src="'+i+'" alt="设置环境变量"></p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>如果不设置，默认的 pm2 save 的信息会存在用户的目录下，重启服务可能没有权限读取; 如果之前已经启动了项目，设置完环境变量之后需要重新启动</p></div><h2 id="启动应用" tabindex="-1">启动应用 <a class="header-anchor" href="#启动应用" aria-label="Permalink to &quot;启动应用&quot;">​</a></h2><p>以 nodejs express 项目为例使用 www 或者使用 <a href="./启动配置文件.html">ecosystem.config.json</a> 运行</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pm2 start ./bin/www  | ecosystem.config.json</span></span></code></pre></div><h2 id="保存-pm2-配置信息" tabindex="-1">保存 pm2 配置信息 <a class="header-anchor" href="#保存-pm2-配置信息" aria-label="Permalink to &quot;保存 pm2 配置信息&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pm2 save</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>使用<code>pm2 save</code>是为了把 pm2 配置信息存储在 PNPM_HOME 目录下</p></div><h2 id="卸载服务" tabindex="-1">卸载服务 <a class="header-anchor" href="#卸载服务" aria-label="Permalink to &quot;卸载服务&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pm2-service-uninstall -n serviceName</span></span></code></pre></div>',17),p=[n];function c(l,d,r,h,m,u){return s(),e("div",null,p)}const _=a(o,[["render",c]]);export{b as __pageData,_ as default};
